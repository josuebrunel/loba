#--------------------------------------
# author : godbod  
# file   : CMakeList.txt
# date   : 2014-08-25
# brief  : top level CMakeList.txt
#--------------------------------------

cmake_minimum_required(VERSION 2.8.9)
project(loba)

set(CMAKE_AUTOMOC on)
set(CMAKE_INCLUDE_CURRENT_DIR on)
set(EXECUTABLE_OUTPUT_PATH .)

find_package(Qt5Widgets)
find_package(Qt5Core)

# we give all the files to compile
file(GLOB_RECURSE SOURCES_FILE   src/*.cpp)
file(GLOB_RECURSE HEADERS_FILE   includes/*.h) 
file(GLOB_RECURSE RESOURCES_FILE resources/*.qrc)
  
# we set Qt4
set(QT_USE_QTDECLARATIVE TRUE)
qt5_add_resources(SAMPLE_RC_SRCS ${RESOURCES_FILE})

# to use the headers generated by resources
include_directories(${CMAKE_BINARY_DIR})
include_directories("${loba_SOURCE_DIR}/includes/")

# build
add_executable(loba ${SOURCES_FILE} ${HEADERS_FILE} ${SAMPLE_MOC_SRCS} ${SAMPLE_RC_SRCS})
target_link_libraries(loba)

qt5_use_modules(loba Network Widgets Declarative)
